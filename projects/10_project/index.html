<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Persistence Diagram Playground | Ashley S. Dale</title>
    <meta name="author" content="Ashley S. Dale">
    <meta name="description" content="Persistence homology walk through for four different data distributions">
    <meta name="keywords" content="physics, machine learning, spintronics, spin-crossover, computational physics, post-doc,">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://daleas0120.github.io/projects/10_project/">

    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Ashley </span>S. Dale</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/publications/">publications</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/projects/">projects</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">explore</a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/publications/">publications</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/projects/">projects</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/repositories/">repositories</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="/teaching/">teaching</a>
                </div>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">Persistence Diagram Playground</h1>
            <p class="post-description">Persistence homology walk through for four different data distributions</p>
          </header>

          <article>
            <h1 id="introduction">Introduction</h1>

<p><a href="https://colab.research.google.com/github/daleas0120/Example_notebooks/blob/main/Persistence_Diagram_Playground.ipynb" target="_parent" rel="external nofollow noopener"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a></p>

<p>Persistence homology can be a good tool for studying how data clusters at a variety of different scales.  I found the following papers to be a useful background in understanding how to implement this kind of analysis:</p>

<ul>
  <li>
<a href="https://www.frontiersin.org/articles/10.3389/frai.2021.667963/full?ref=graphusergroup.com" rel="external nofollow noopener" target="_blank"><em>An Introduction to Topological Data Analysis: Fundamental and Practical Aspects for Data Scientists</em></a> by Chazal et al.</li>
  <li>
<a href="https://link.springer.com/article/10.1007/s00454-002-2885-2" rel="external nofollow noopener" target="_blank"><em>Topological Persistence and Simplification</em></a> by Edelsbrunner et al.</li>
  <li>
<a href="https://dl.acm.org/doi/abs/10.1145/1064092.1064133?casa_token=jHEf2zdQuBIAAAAA:YDNDN7xF1t-ClgvyeKft3E2Gyc3VlwZuT6nRtHTdw6vGoJuykcCWI2YxFO7fh4FYUi0WmSEtR4dcaA" rel="external nofollow noopener" target="_blank"><em>Stability of persistence diagrams</em></a> by Cohen-Steiner et al.</li>
</ul>

<p>This notebook uses <a href="https://persim.scikit-tda.org/en/latest/" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">persim</code></a> and <a href="https://gudhi.inria.fr/python/latest/" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">gudhi</code></a> python libraries to analyze four different data distributions: normal, uniform, concentric rings, and noisy concentric rings.  I found it useful to implement both (rather than one over the other) due to ease of use and memory consumption.  If you execute this notebook in Google colab, it is fun to watch the RAM usage plot change…</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">quiet</span> <span class="n">persim</span> <span class="o">&amp;&gt;</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">quiet</span> <span class="n">gudhi</span> <span class="o">&amp;&gt;</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">sklearn</span>
<span class="kn">import</span> <span class="n">persim</span>
<span class="kn">import</span> <span class="n">gudhi</span> <span class="k">as</span> <span class="n">gd</span>

<span class="kn">from</span> <span class="n">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">pdist</span>
<span class="kn">from</span> <span class="n">sklearn.metrics</span> <span class="kn">import</span> <span class="n">pairwise_distances</span>
<span class="kn">from</span> <span class="n">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>
</code></pre></div></div>

<h1 id="example-data-distributions">Example Data Distributions</h1>

<h2 id="uniform-distribution">Uniform Distribution</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Uniform distribution
</span><span class="n">uni_x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>
<span class="n">uni_y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>

<span class="c1"># 1. Generate pair-wise distance matrix
</span><span class="n">uniform_data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">transpose</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">uni_x</span><span class="p">,</span><span class="n">uni_y</span><span class="p">]))</span>
<span class="n">uniform_dist</span> <span class="o">=</span> <span class="nf">pairwise_distances</span><span class="p">(</span><span class="n">uniform_data</span><span class="p">)</span>

<span class="c1"># 2. Generate simplical complexes
</span><span class="n">uniform_rips</span> <span class="o">=</span> <span class="n">gd</span><span class="p">.</span><span class="nc">RipsComplex</span><span class="p">(</span>
    <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">uniform_dist</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1">#3. Generate simplex tree
</span><span class="n">uniform_tree</span> <span class="o">=</span> <span class="n">uniform_rips</span><span class="p">.</span><span class="nf">create_simplex_tree</span><span class="p">(</span><span class="n">max_dimension</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 4. Get persistence
</span><span class="n">uniform_barcode</span> <span class="o">=</span> <span class="n">uniform_tree</span><span class="p">.</span><span class="nf">persistence</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">scatter</span><span class="p">(</span><span class="n">uni_x</span><span class="p">,</span> <span class="n">uni_y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Uniform Distribution</span><span class="sh">"</span><span class="p">)</span>
<span class="c1">#plt.sca(ax[1])
</span><span class="n">gd</span><span class="p">.</span><span class="nf">plot_persistence_barcode</span><span class="p">(</span><span class="n">uniform_barcode</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>WARNING:matplotlib:usetex mode requires TeX.
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_7_1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<p>On the left, the data distribution is shown to be evenly distributed from 0 to 1.  On the right, the Persistence Barcode shows the 0th-order homology in red, and the 1st-order homology in blue.  The distance scale on the x-axis shows that the clustering dynamics stabilize at $\approx 0.13$.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The following variables will be deleted to free up memory
</span><span class="k">del</span> <span class="n">uniform_data</span>
<span class="k">del</span> <span class="n">uniform_dist</span>
<span class="k">del</span> <span class="n">uniform_rips</span>
<span class="k">del</span> <span class="n">uniform_tree</span>
</code></pre></div></div>

<h2 id="normal-distribution">Normal Distribution</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">norm_x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>
<span class="n">norm_y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>

<span class="c1"># 1. Generate pair-wise distance matrix
</span><span class="n">norm_data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">transpose</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">norm_x</span><span class="p">,</span><span class="n">norm_y</span><span class="p">]))</span>
<span class="n">norm_dist</span> <span class="o">=</span> <span class="nf">pairwise_distances</span><span class="p">(</span><span class="n">norm_data</span><span class="p">)</span>

<span class="c1"># 2. Generate simplical complexes
</span><span class="n">norm_rips</span> <span class="o">=</span> <span class="n">gd</span><span class="p">.</span><span class="nc">RipsComplex</span><span class="p">(</span>
    <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">norm_dist</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1">#3. Generate simplex tree
</span><span class="n">norm_tree</span> <span class="o">=</span> <span class="n">norm_rips</span><span class="p">.</span><span class="nf">create_simplex_tree</span><span class="p">(</span><span class="n">max_dimension</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 4. Get persistence
</span><span class="n">norm_barcode</span> <span class="o">=</span> <span class="n">norm_tree</span><span class="p">.</span><span class="nf">persistence</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">scatter</span><span class="p">(</span><span class="n">norm_x</span><span class="p">,</span> <span class="n">norm_y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Normal Distribution</span><span class="sh">"</span><span class="p">)</span>

<span class="n">gd</span><span class="p">.</span><span class="nf">plot_persistence_barcode</span><span class="p">(</span><span class="n">norm_barcode</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_12_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<p>We can compare this Persistence barcode to the one created for the uniform distribution.  Note that the scale is larger, reflecting the difference in range for the data (-1.0 to 1.0 for the normal distribution).  The 0th-order homology also has a longer “tail” for the normal distribution than the uniform distribution.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The following variables will be deleted to free up memory
</span><span class="k">del</span> <span class="n">norm_data</span>
<span class="k">del</span> <span class="n">norm_dist</span>
<span class="k">del</span> <span class="n">norm_rips</span>
<span class="k">del</span> <span class="n">norm_tree</span>
</code></pre></div></div>

<p>Now we can create Birth-Death diagrams for each of the Persistence barcode plots above.  For each point, the <code class="language-plaintext highlighter-rouge">x</code> coordinate is the radius at which the structure begins, and the <code class="language-plaintext highlighter-rouge">y</code> coordinate is the radius at which the structure ends.  Points at $∞$ represent structures which still exist past the $0.13$ end point shown in the Persistence Barcode.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">gd</span><span class="p">.</span><span class="nf">plot_persistence_diagram</span><span class="p">(</span><span class="n">uniform_barcode</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">'</span><span class="s">Uniform Distribution</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_16_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">gd</span><span class="p">.</span><span class="nf">plot_persistence_diagram</span><span class="p">(</span><span class="n">norm_barcode</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">'</span><span class="s">Normal Distribution</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_17_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<p>Up to this point, I have used Gudhi’s libraries for computing the persistence diagrams.  I am going to convert the data to a Persim compatible format since I found the bottleneck distance calculation in Persim to be faster and more memory friendly.  I will keep only the 1st-order homology since this is used to compute the bottleneck distance.</p>

<p>The <strong>bottleneck distance</strong>, <em>B</em>, is the minimum distance which allows every point to be mapped to some other point; the distance between all pairwise mappings on the persistence diagram is less than or equal to the bottleneck distance. This distance is found by performing a binary search with the Hopcroft-Karp algorithm on the cosine similarity matrix (CSM) of the two birth-death diagrams.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">uniform_persis</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">itm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">itm</span> <span class="ow">in</span> <span class="n">uniform_barcode</span><span class="p">])</span>
<span class="n">norm_persis</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">itm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">itm</span> <span class="ow">in</span> <span class="n">norm_barcode</span><span class="p">])</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dist</span><span class="p">,</span> <span class="n">matching</span> <span class="o">=</span> <span class="n">persim</span><span class="p">.</span><span class="nf">bottleneck</span><span class="p">(</span><span class="n">uniform_persis</span><span class="p">,</span> <span class="n">norm_persis</span><span class="p">,</span> <span class="n">matching</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Bottleneck distance: </span><span class="sh">"</span><span class="p">,</span> <span class="n">dist</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/lib/python3.10/dist-packages/persim/bottleneck.py:56: UserWarning: dgm1 has points with non-finite death times;ignoring those points
  warnings.warn(
/usr/local/lib/python3.10/dist-packages/persim/bottleneck.py:66: UserWarning: dgm2 has points with non-finite death times;ignoring those points
  warnings.warn(


Bottleneck distance:  0.21679964357072135
</code></pre></div></div>

<p>I can also print the coordinates of the two birth-death points connected by the bottleneck distance.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">max_idx</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">argmax</span><span class="p">(</span><span class="n">matching</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">])</span>
<span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">d</span><span class="p">]</span> <span class="o">=</span> <span class="n">matching</span><span class="p">[</span><span class="n">max_idx</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">i</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="n">j</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Confirm that we have found the bottleneck distance: </span><span class="sh">'</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Uniform Persistence Coordinate: </span><span class="sh">'</span><span class="p">,</span> <span class="p">[</span><span class="n">uniform_persis</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">uniform_persis</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">Normal Persistence Coordinate: </span><span class="sh">'</span><span class="p">,</span> <span class="p">[</span><span class="n">norm_persis</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">norm_persis</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Confirm that we have found the bottleneck distance:  0.21679964357072135
Uniform Persistence Coordinate:  [0.0, 0.001497319473035949]
Normal Persistence Coordinate:  [0.0, inf]
</code></pre></div></div>

<p>Finally, we can plot the matchings between the two birth-death persistence diagrams:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">persim</span><span class="p">.</span><span class="nf">bottleneck_matching</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">uniform_persis</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">norm_persis</span><span class="p">),</span> <span class="n">matching</span><span class="o">=</span><span class="n">matching</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">Uniform</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">Normal</span><span class="sh">'</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_24_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<p>There are many matchings, which obscures the bottleneck distance pair.  However, it is clear that the normal distribution has a larger range than the uniform distribution.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The following variables will be deleted to free up memory
</span><span class="k">del</span> <span class="n">norm_x</span>
<span class="k">del</span> <span class="n">norm_y</span>
<span class="k">del</span> <span class="n">uni_x</span>
<span class="k">del</span> <span class="n">uni_y</span>
</code></pre></div></div>

<h2 id="concentric-rings-1">Concentric Rings #1</h2>

<p>The normally-distributed and uniformly-distributed data showed interesting 0th-order homology.  Using a ring-type structure for the data will help demonstrate the 1st-order homology.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ring_data</span> <span class="o">=</span> <span class="n">sklearn</span><span class="p">.</span><span class="n">datasets</span><span class="p">.</span><span class="nf">make_circles</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>

<span class="c1"># 1. Generate pair-wise distance matrix
</span><span class="n">rings_data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">transpose</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">ring_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">0</span><span class="p">],</span><span class="n">ring_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">1</span><span class="p">]]))</span>
<span class="n">rings_dist</span> <span class="o">=</span> <span class="nf">pairwise_distances</span><span class="p">(</span><span class="n">rings_data</span><span class="p">)</span>

<span class="c1"># 2. Generate simplical complexes
</span><span class="n">rings_rips</span> <span class="o">=</span> <span class="n">gd</span><span class="p">.</span><span class="nc">RipsComplex</span><span class="p">(</span>
    <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">rings_dist</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1">#3. Generate simplex tree
</span><span class="n">rings_tree</span> <span class="o">=</span> <span class="n">rings_rips</span><span class="p">.</span><span class="nf">create_simplex_tree</span><span class="p">(</span><span class="n">max_dimension</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 4. Get persistence
</span><span class="n">rings_barcode</span> <span class="o">=</span> <span class="n">rings_tree</span><span class="p">.</span><span class="nf">persistence</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">scatter</span><span class="p">(</span><span class="n">ring_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">ring_data</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Ring Distribution</span><span class="sh">"</span><span class="p">)</span>
<span class="n">gd</span><span class="p">.</span><span class="nf">plot_persistence_barcode</span><span class="p">(</span><span class="n">rings_barcode</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_29_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<p>This data distribution and persistence barcode pair are fairly easy to interpret.  The 0th-order homology clusters for a well defined range because the points on the ring circumference are evenly distributed around the perimeter.  As the points increase their connectivity, the 1st-order homology emerges at the exact point where the 0th-order homologies end.</p>

<h2 id="concentric-rings-2">Concentric Rings #2</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ring_data2</span> <span class="o">=</span> <span class="n">sklearn</span><span class="p">.</span><span class="n">datasets</span><span class="p">.</span><span class="nf">make_circles</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span> <span class="n">factor</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">noise</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>

<span class="c1"># 1. Generate pair-wise distance matrix
</span><span class="n">rings_data2</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">transpose</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">ring_data2</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">0</span><span class="p">],</span><span class="n">ring_data2</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">1</span><span class="p">]]))</span>
<span class="n">rings_dist2</span> <span class="o">=</span> <span class="nf">pairwise_distances</span><span class="p">(</span><span class="n">rings_data2</span><span class="p">)</span>

<span class="c1"># 2. Generate simplical complexes
</span><span class="n">rings_rips2</span> <span class="o">=</span> <span class="n">gd</span><span class="p">.</span><span class="nc">RipsComplex</span><span class="p">(</span>
    <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">rings_dist2</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1">#3. Generate simplex tree
</span><span class="n">rings_tree2</span> <span class="o">=</span> <span class="n">rings_rips2</span><span class="p">.</span><span class="nf">create_simplex_tree</span><span class="p">(</span><span class="n">max_dimension</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 4. Get persistence
</span><span class="n">rings_barcode2</span> <span class="o">=</span> <span class="n">rings_tree2</span><span class="p">.</span><span class="nf">persistence</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">scatter</span><span class="p">(</span><span class="n">ring_data2</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">ring_data2</span><span class="p">[</span><span class="mi">0</span><span class="p">][:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">"</span><span class="s">Ring Distribution</span><span class="sh">"</span><span class="p">)</span>
<span class="n">gd</span><span class="p">.</span><span class="nf">plot_persistence_barcode</span><span class="p">(</span><span class="n">rings_barcode2</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_33_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<p>With some gaussian noise added, these plots are comparable to both the normal distribution persistence barcode plot and the concentric ring persistence barcode plot above.  A large 1st-order homology structure is shown from $\approx 0.1$ to $\approx 0.8$, which roughly correlates with the distance between the center cluster and the ring with diameter $\approx 1$.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">gd</span><span class="p">.</span><span class="nf">plot_persistence_diagram</span><span class="p">(</span><span class="n">rings_barcode</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">'</span><span class="s">Concentric Rings Distribution</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_35_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="nf">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">gd</span><span class="p">.</span><span class="nf">plot_persistence_diagram</span><span class="p">(</span><span class="n">rings_barcode2</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="nf">set_title</span><span class="p">(</span><span class="sh">'</span><span class="s">Noisy Concentric Rings Distribution</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_36_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<p>Comparing the two birth-death plots to the original persistence barcode plots helps identify where the features are originating.  For example, the cluster of blue points just off the main diagonal of the normally distributed birth-death digram corresponds to the 1st-order homologies between 0 and 0.2 on the original persistence barcode plot.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># convert data for use in persim
</span><span class="n">rings_persis</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">itm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">itm</span> <span class="ow">in</span> <span class="n">rings_barcode</span><span class="p">])</span>
<span class="n">rings2_persis</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="n">itm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">itm</span> <span class="ow">in</span> <span class="n">rings_barcode2</span><span class="p">])</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dist2</span><span class="p">,</span> <span class="n">matching2</span> <span class="o">=</span> <span class="n">persim</span><span class="p">.</span><span class="nf">bottleneck</span><span class="p">(</span><span class="n">rings_persis</span><span class="p">,</span> <span class="n">rings2_persis</span><span class="p">,</span> <span class="n">matching</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Bottleneck distance: </span><span class="sh">"</span><span class="p">,</span> <span class="n">dist2</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/lib/python3.10/dist-packages/persim/bottleneck.py:56: UserWarning: dgm1 has points with non-finite death times;ignoring those points
  warnings.warn(
/usr/local/lib/python3.10/dist-packages/persim/bottleneck.py:66: UserWarning: dgm2 has points with non-finite death times;ignoring those points
  warnings.warn(


Bottleneck distance:  0.27734036348549507
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">persim</span><span class="p">.</span><span class="nf">bottleneck_matching</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">rings_persis</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="n">rings2_persis</span><span class="p">),</span> <span class="n">matching</span><span class="o">=</span><span class="n">matching2</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">Rings</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">Noisy Rings</span><span class="sh">'</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre></div></div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <figure>

  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/proj10_output_40_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>

</figure>

    </div>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The following variables will be deleted to free up memory
</span><span class="k">del</span> <span class="n">rings_data</span>
<span class="k">del</span> <span class="n">rings_data2</span>
<span class="k">del</span> <span class="n">rings_barcode</span>
<span class="k">del</span> <span class="n">rings_barcode2</span>
<span class="k">del</span> <span class="n">rings_tree</span>
<span class="k">del</span> <span class="n">rings_tree2</span>
<span class="k">del</span> <span class="n">rings_rips</span>
<span class="k">del</span> <span class="n">rings_rips2</span>
<span class="k">del</span> <span class="n">ring_data</span>
<span class="k">del</span> <span class="n">ring_data2</span>
</code></pre></div></div>

<h1 id="bottleneck-distance-comparison">Bottleneck Distance Comparison</h1>

<p>Finally, we can confirm that the bottleneck distance is capturing the difference between the different distributions.  The bottleneck distance should be smaller between the two ring distributions than either the uniformly or normally distributed distributions.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dist3</span><span class="p">,</span> <span class="n">matching3</span> <span class="o">=</span> <span class="n">persim</span><span class="p">.</span><span class="nf">bottleneck</span><span class="p">(</span><span class="n">rings_persis</span><span class="p">,</span> <span class="n">norm_persis</span><span class="p">,</span> <span class="n">matching</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">dist4</span><span class="p">,</span> <span class="n">matching4</span> <span class="o">=</span> <span class="n">persim</span><span class="p">.</span><span class="nf">bottleneck</span><span class="p">(</span><span class="n">rings2_persis</span><span class="p">,</span> <span class="n">norm_persis</span><span class="p">,</span> <span class="n">matching</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">dist5</span><span class="p">,</span> <span class="n">matching5</span> <span class="o">=</span> <span class="n">persim</span><span class="p">.</span><span class="nf">bottleneck</span><span class="p">(</span><span class="n">rings2_persis</span><span class="p">,</span> <span class="n">uniform_persis</span><span class="p">,</span> <span class="n">matching</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">dist6</span><span class="p">,</span> <span class="n">matching6</span> <span class="o">=</span> <span class="n">persim</span><span class="p">.</span><span class="nf">bottleneck</span><span class="p">(</span><span class="n">rings_persis</span><span class="p">,</span> <span class="n">uniform_persis</span><span class="p">,</span> <span class="n">matching</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/lib/python3.10/dist-packages/persim/bottleneck.py:56: UserWarning: dgm1 has points with non-finite death times;ignoring those points
  warnings.warn(
/usr/local/lib/python3.10/dist-packages/persim/bottleneck.py:66: UserWarning: dgm2 has points with non-finite death times;ignoring those points
  warnings.warn(
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Uniform to normally distributed data bottleneck distance: </span><span class="sh">"</span><span class="p">,</span> <span class="n">dist</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Rings to noisy rings bottleneck distance: </span><span class="sh">"</span><span class="p">,</span> <span class="n">dist2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Rings to normally distributed data bottleneck distance: </span><span class="sh">"</span><span class="p">,</span> <span class="n">dist3</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Noisy rings to normally distributed data bottleneck distance: </span><span class="sh">"</span><span class="p">,</span> <span class="n">dist4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Noisy rings to uniformly distributed data bottleneck distance: </span><span class="sh">"</span><span class="p">,</span> <span class="n">dist5</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Rings to uniformly distributed data bottleneck distance: </span><span class="sh">"</span><span class="p">,</span> <span class="n">dist6</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Uniform to normally distributed data bottleneck distance:  0.21679964357072135
Rings to noisy rings bottleneck distance:  0.27734036348549507
Rings to normally distributed data bottleneck distance:  0.49499999999999994
Noisy rings to normally distributed data bottleneck distance:  0.3553335494268177
Noisy rings to uniformly distributed data bottleneck distance:  0.3563298182572524
Rings to uniformly distributed data bottleneck distance:  0.49499999999999994
</code></pre></div></div>

<h1 id="summary">Summary</h1>

<p>The four different data distributions were analyzed using persistence barcode plots, birth-death plots, and the bottleneck distance.  The bottleneck distance captured the similarities between the normally and uniformly distributed data, and the similarities between the two different ring distributions.</p>

          </article>

        </div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2023 Ashley S. Dale. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
